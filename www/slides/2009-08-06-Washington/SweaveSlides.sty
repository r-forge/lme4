\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{SweaveSlides}
\RequirePackage{fancyvrb}
\RequirePackage[english]{babel}
\RequirePackage{bm}
\RequirePackage{xspace}
%\RequirePackage[utf8x]{inputenc}
\RequirePackage{inputenc}
\RequirePackage{paralist}
\newenvironment{Schunk}{\par\begin{minipage}{\textwidth}}{\end{minipage}}
\definecolor{Sinput}{rgb}{0,0,0.56}
\definecolor{Scode}{rgb}{0,0,0.56}
\definecolor{Soutput}{rgb}{0.56,0,0}
% \DefineVerbatimEnvironment{Sinput}{Verbatim}
% {formatcom={\color{Sinput}},fontsize=\small}
% \DefineVerbatimEnvironment{Soutput}{Verbatim}
% {formatcom={\color{Soutput}},fontsize=\footnotesize}
% \DefineVerbatimEnvironment{Scode}{Verbatim}
% {formatcom={\color{Scode}},fontsize=\small}
\newcommand{\bc}[1]{\ensuremath{\bm{\mathcal{#1}}}}
%\newcommand{\code}[1]{{\color{Sinput}\small\texttt{#1}}}
\newcommand{\R}{\Emph{R}\xspace}
\newcommand{\SPLUS}{\Emph{S-PLUS}}
\newcommand{\Emph}[1]{\emph{\color{Scode}#1}}
\newcommand{\abs}{\operatorname{abs}}
\RequirePackage{listings}
% instead of {color} above .. no, remain standard
%% browns <- grep("brown",cc <- colors(), value=TRUE); cb <- col2rgb(browns)
%% colnames(cb) <- browns
% \definecolor{brown}{rgb}{0.647,0.165,0.165}
% \definecolor{orange}{rgb}{0.8,0.5,0}
\lstset{%% to customize ``Listings'':
  language=R,% but modify the (2001) listing default of R
  morekeywords={setAs,setClass,setMethod,setGeneric,setValidity},
  % otherkeywords={!,!=,~,$,*,\&,\%/\%,\%*\%,\%\%,<-,<<-,_,/},%
  otherkeywords={!,!=,~,\$,*,\&,\%/\%,\%*\%,<-,<<-},% >>
  %
  basicstyle=\footnotesize,
  %          ------ --> need \footnotesize or \tiny to become smaller
  keywordstyle=\bfseries,
  numbers=left, numbersep=3pt, numberstyle=\color{gray}\tiny, stepnumber=2,
  commentstyle=\color{firebrick}\itshape,% was orange
  stringstyle=\color{brown}\ttfamily,
  showstringspaces=false
}
%
\newcommand{\Slang}{\textsf{S} language}
\newcommand{\email}[1]{\href{mailto:#1}{\normalfont\texttt{#1}}}
%- R programming markup
%simple: \newcommand{\code}[1]{\texttt{#1}}
%complicated:
\newcommand\code{\bgroup\@codex}
\def\@codex#1{{\normalfont\ttfamily\hyphenchar\font=-1 #1}\egroup}
% \let\env=\code
% \let\command=\code
\newcommand*{\Rfun}[1]{\code{#1()}\index{\RR~function #1}}
\newcommand*{\class}[1]{\code{#1}\index{class #1}}%
\newcommand*{\pkg}[1]{\code{#1}\index{\RR~package #1}}
%
\newcommand{\kbd}[1]{{\normalfont\texttt{#1}}}
\newcommand{\key}[1]{{\normalfont\texttt{\uppercase{#1}}}}
\newcommand\samp{`\bgroup\@noligs\@sampx}
\def\@sampx#1{{\normalfont\texttt{#1}}\egroup'}
% \let\option=\samp
\newcommand{\var}[1]{{\normalfont\textsl{#1}}}
\newcommand{\file}[1]{{`\normalfont\textsf{#1}'}}
\newcommand{\dfn}[1]{{\normalfont\textsl{#1}}}
\newcommand{\acronym}[1]{{\normalfont\textsc{\lowercase{#1}}}}
\newcommand{\strong}[1]{{\normalfont\fontseries{b}\selectfont #1}}
% \let\pkg=\strong
% %   ---- note, \pkg above uses \index{}
%>>>Already def:\newenvironment{example}{\begin{alltt}}{\end{alltt}}
\newenvironment{smallexample}{\begin{alltt}\small}{\end{alltt}}
\newenvironment{display}{\list{}{}\item\relax}{\endlist}
\newenvironment{smallverbatim}{\small\verbatim}{\endverbatim}

%%------------- begin{SweaveStyles} ------------------------------------------
% \newenvironment{Schunk}{\par\begin{minipage}{\textwidth}}{\end{minipage}}
% \definecolor{Sinput}{rgb}{0,0,0.56}
% \definecolor{Scode}{rgb}{0,0,0.56}
% \definecolor{Soutput}{rgb}{0.56,0,0}
%Default (Rcore):
% \DefineVerbatimEnvironment{Sinput}{Verbatim}
% {formatcom={\color{Sinput}},fontsize=\small}
% \DefineVerbatimEnvironment{Soutput}{Verbatim}
% {formatcom={\color{Soutput}},fontsize=\small}
% \DefineVerbatimEnvironment{Scode}{Verbatim}
% {formatcom={\color{Scode}},fontsize=\small}
%End{Default}
\DefineVerbatimEnvironment{Sinput}{Verbatim}{formatcom={\color{Sinput}},%
  fontsize=\small}
\DefineVerbatimEnvironment{Soutput}{Verbatim}{formatcom={\color{Soutput}},%
  fontsize=\footnotesize}
\DefineVerbatimEnvironment{Scode}{Verbatim} {formatcom={\color{Scode}},%
  fontsize=\small}
% no colors:
% \DefineVerbatimEnvironment{Sinput}{Verbatim}{fontsize=\small,fontshape=sl}
% \DefineVerbatimEnvironment{Soutput}{Verbatim}{fontsize=\small}
% \DefineVerbatimEnvironment{Scode}{Verbatim}{fontsize=\small,fontshape=sl}
%%-------------- end{SweaveStyles} ------------
%
\newcommand{\FIXME}[1]{\marginpar{ \dots FIXME \emph{#1} \dots}}
\newcommand{\TODO}[1]{\par\noindent\textsc{Todo:} \textit{#1}\par}
\newcommand{\LAPACK}{\textsc{lapack}\xspace}
\newcommand{\BLAS}{\textsc{blas}\xspace}
%
\newcommand{\mQuote}[1]{$\langle${#1}$\rangle$}
%\newcommand{\Emph}[1]{\textcolor{Sinput}{\emph{#1}}}
%
%% Matrix stuff :
% Doug:
\newcommand{\trans}{\ensuremath{^\mathsf{T}}}
% Martin:
\RequirePackage{amssymb}% for \intercal:
\newcommand{\tr}{\ensuremath{^{\intercal}}}
\newcommand{\Mtr}{\ensuremath{^{-\intercal}}}% Minus trans
%
%%---- more of Martin's favorites from 'texab' :
%%
%% (FIXME? replace \bmath by \bm from package{bm} ??)
\newcommand{\bmath}[1]{\relax\ifmmode{\mbox{\boldmath $#1$}}%
  \else{\boldmath $#1$}\fi}    %-- W.Stahel, M. MÃ¤chler
%%  SfS - Sigma  for Cov.matrix:
\newcommand{\Sig}{\relax\ifmmode\rlap{\kern0.45em\raise0.08em\hbox{|}}
\bmath\Sigma\else$\Sig$\fi}
\newcommand{\Sigh}{\widehat{\Sig}}
%
\DeclareMathOperator*{\argmin}{arg\, min}
\DeclareMathOperator*{\argmax}{arg\, max}
%
%- Scalar Prod. <.,.> :  \sp{x}{zz}  -->  < x , zz >  ---
         \newcommand{\spr}[2]   {\left\langle #1\, , #2 \right\rangle}
%%-- No longer (March 15, 1999): breaks 'alltt' : \sp = ``sup'' (exponent)
%%-         \renewcommand{\sp}[2]   {\left\langle #1\, , #2 \right\rangle
%%-  \typeout{
%%-    ------ Use '$\backslash$spr'
%%-    instead of '$\backslash$sp' for scalar product ! -----}}
%- \abs{ab}  -->  | ab |   ``absolut Betrag''
%        \newcommand{\abs}[1]    {\left| #1 \right|}
%\newcommand{\abs}{\operatorname{abs}}
%- \norm{ab}  -->  || ab ||
        \newcommand{\norm}[1]   {\left\| #1 \right\|}
 % the above sometimes give much too long  || -- then use the following:
        \newcommand{\normb}[1]  {\bigl\|{#1}\bigr\|}
        \newcommand{\normB}[1]  {\Bigl\|{#1}\Bigr\|}
%- Indicator function: \Ind{A}  : the following *is* ugly but works, see below
        \newcommand{\Ind}[1]    {\mbox{\larger\textbf{1}}_{#1}}
%Gives warning ``Command \large invalid in math mode on input line ..'' :
%       \newcommand{\Ind}[1]{\mathop{\large\mathbf{1}}_{#1}}
%       \newcommand{\Ind}[1]{{\large\mathbf{1}}_{#1}}

%- For things like ``F_{Tab}'' (F-value from table):
\newcommand{\Xsub}[2]{{#1}_{\mathrm{\scriptscriptstyle #2}}}
%
%\newcommand{\bc}[1]{\ensuremath{\bm{\mathcal{#1}}}}
\mode<handout>{\usetheme{default}}
\mode<beamer>{%
%%  \usetheme{Madrid}%  default = blue, lines above and below
%%  \usetheme{Antibes}%  cleaner - should take one line off the top
%  \usetheme{Bergen}% takes up too much space on the left - no room for text
%  \usetheme{Berkeley}% too much info on left side squeezes the text region
%  \usetheme{Berlin}%  too much info on top and bottom - text overflows
%  \usetheme{Boadilla}% clean - maybe too clean - author info on bottom
%  \usetheme{Copenhagen}% too much info on the top - author info on bottom
%%  \usetheme{Darmstadt}% clean - no author info - may be best choice
%  \usetheme{Dresden}% like Darmstadt with author info on the bottom
%%  \usetheme{Frankfurt}% clean as Darmstadt - may be a good choice
%  \usetheme{Goettingen}% uses right side - too much info
%  \usetheme{Hannover}% like Goettingen but uses left side
%  \usetheme{Ilmenau}% like Berlin - text overflows
%  \usetheme{JuanLesPins}% like Antibes - text overflows
%  \usetheme{Luebeck}% too much info on top and bottom
%  \usetheme{Madrid}%
%  \usetheme{Malmoe}% like Luebeck - too much info
%  \usetheme{Marburg}% uses right side - nice gradient but too much info
%  \usetheme{Montpellier}% very clean but too much info on top - text overflows
%  \usetheme{PaloAlto}% uses both left side and top - too much info - text overflows
%  \usetheme{Pittsburgh}% very clean - right flush frametitles - text overflows
%%  \usetheme{Rochester}% clean - frametitles only - no section references
  \usetheme{Singapore}% best choice.
%  \usetheme{Szeged}% too much info on top and bottom
%  \usetheme{Warsaw}% too much info on top and bottom
  \setbeamercovered{transparent}%
%  \pgfdeclareimage[height=0.5cm]{R-logo}{Rlogo}%
%  \logo{\pgfuseimage{R-logo}}%
}
\usefonttheme[onlymath]{serif}
\AtBeginSubsection[]{%
  \begin{frame}<beamer>%
    \frametitle{Outline}%
    \tableofcontents[currentsection,currentsubsection]%
  \end{frame}
}
\InputIfFileExists{SweaveSlides.cfg}{}{}
%\newcommand{\trans}{\ensuremath{^\prime}}
\mode<handout>{\usetheme{default}}
\mode<beamer>{%
%%  \usetheme{Madrid}%  default = blue, lines above and below
%%  \usetheme{Antibes}%  cleaner - should take one line off the top
%  \usetheme{Bergen}% takes up too much space on the left - no room for text
%  \usetheme{Berkeley}% too much info on left side squeezes the text region
%  \usetheme{Berlin}%  too much info on top and bottom - text overflows
%  \usetheme{Boadilla}% clean - maybe too clean - author info on bottom
%  \usetheme{Copenhagen}% too much info on the top - author info on bottom
%%  \usetheme{Darmstadt}% clean - no author info - may be best choice
%  \usetheme{Dresden}% like Darmstadt with author info on the bottom
%%  \usetheme{Frankfurt}% clean as Darmstadt - may be a good choice
%  \usetheme{Goettingen}% uses right side - too much info
%  \usetheme{Hannover}% like Goettingen but uses left side
%  \usetheme{Ilmenau}% like Berlin - text overflows
%  \usetheme{JuanLesPins}% like Antibes - text overflows
%  \usetheme{Luebeck}% too much info on top and bottom
%  \usetheme{Madrid}%
%  \usetheme{Malmoe}% like Luebeck - too much info
%  \usetheme{Marburg}% uses right side - nice gradient but too much info
%  \usetheme{Montpellier}% very clean but too much info on top - text overflows
%  \usetheme{PaloAlto}% uses both left side and top - too much info - text overflows
%  \usetheme{Pittsburgh}% very clean - right flush frametitles - text overflows
%%  \usetheme{Rochester}% clean - frametitles only - no section references
  \usetheme{Singapore}% best choice.
%  \usetheme{Szeged}% too much info on top and bottom
%  \usetheme{Warsaw}% too much info on top and bottom
  \setbeamercovered{transparent}%
%  \pgfdeclareimage[height=0.5cm]{R-logo}{Rlogo}%
%  \logo{\pgfuseimage{R-logo}}%
}
\usefonttheme[onlymath]{serif}
\AtBeginSubsection[]{%
  \begin{frame}<beamer>%
    \frametitle{Outline}%
    \tableofcontents[currentsection,currentsubsection]%
  \end{frame}
}
\InputIfFileExists{SweaveSlides.cfg}{}{}

